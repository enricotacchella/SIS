.model FSMD
.inputs IP0 IP1 IP2 IP3 IP4 IP5 IP6 
.outputs AIO ERR1 ERR2 ERR3 GA GB GC GD GE GF NA3 NA2 NA1 NA0 NB3 NB2 NB1 NB0 NC3 NC2 NC1 NC0 NE3 NE2 NE1 NE0 NF3 NF2 NF1 NF0 

.subckt ZERO ZERO=ZERO 
.subckt CONTROLLO ON1=IP0 I1=IP1 I2=IP2 E1=ZERO E2=ZERO E3=ZERO ON=AIO ERR1=ERR1 ERR2=ERR2 ERR3=ERR3 GA=GA GB=GB GC=GC GD=GD GE=GE GF=GF

.subckt REGISTRO A=OVERB O=OVERB1

.subckt REGISTRO A=OVERE O=OVERE1

.subckt REGISTRO A=SCART O=SCART1

.subckt NOT A=AIO O=RESET 

.subckt DATAPATH VIN5=IP1 VIN4=IP2 VIN3=IP3 VIN2=IP4 VIN1=IP5 VIN0=IP6 GA=GA GB=GB GC=GC GD=GD GE=GE GF=GF RESET=RESET ERR=ERR NA3=NA3 NA2=NA2 NA1=NA1 NA0=NA0 NB3=NB3 NB2=NB2 NB1=NB1 NB0=NB0 NC3=NC3 NC2=NC2 NC1=NC1 NC0=NC0 NE3=NE3 NE2=NE2 NE1=NE1 NE0=NE0 NF3=NF3 NF2=NF2 NF1=NF1 NF0=NF0 
 

.end 

.search controlloNew.blif
.search datapath.blif 
.search registro.blif
.search not.blif 


#?# Overflow discard IN
# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | OFF -> IN
# 0 000000 | 1 000 010000 0001 0001 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 0010 0001 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 0010 0010 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 0011 0010 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 0011 0011 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 0100 0011 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 0100 0100 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 0101 0100 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 0101 0101 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 0110 0101 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 0110 0110 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 0111 0110 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 0111 0111 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 1000 0111 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 1000 1000 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 1001 1000 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 1001 1001 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 1010 1001 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 1010 1010 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 1011 1010 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 1011 1011 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 1100 1011 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 1100 1100 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 1101 1100 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 1101 1101 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 1110 1101 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 1110 1110 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 1111 1110 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 1111 1111 0000 0000 0000 | IN -> DIS

# 0 000000 | 1 000 100000 0000 1111 0000 0000 0000 | DIS -> IN
# 0 000000 | 1 000 010000 0000 0000 0000 0000 0000 | IN  -> DIS

# 0 000000 | 0 101 000000 0000 0000 0000 0000 0000 | DIS -> OFF
# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | OFF -> IN
#!#


#?# Overflow discard OUT

# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | OFF -> IN
# 1 000000 | 1 000 001000 0001 0000 0001 0000 0000 | IN -> OK
# 1 000000 | 1 000 000100 0001 0000 0001 0000 0000 | OK -> OUT
# 0 000000 | 1 000 000010 0001 0000 0001 0001 0000 | OUT -> END

# 1 000000 | 1 000 100000 0010 0000 0001 0001 0000 | END -> IN
# 1 000000 | 1 000 001000 0010 0000 0010 0001 0000 | IN -> OK
# 1 000000 | 1 000 000100 0010 0000 0010 0001 0000 | OK -> OUT
# 0 000000 | 1 000 000010 0010 0000 0010 0010 0000 | OUT -> END

# 1 000000 | 1 000 100000 0011 0000 0010 0010 0000 | END -> IN
# 1 000000 | 1 000 001000 0011 0000 0011 0010 0000 | IN -> OK
# 1 000000 | 1 000 000100 0011 0000 0011 0010 0000 | OK -> OUT
# 0 000000 | 1 000 000010 0011 0000 0011 0011 0000 | OUT -> END

# 1 000000 | 1 000 100000 0100 0000 0011 0011 0000 | END -> IN
# 1 000000 | 1 000 001000 0100 0000 0100 0011 0000 | IN -> OK
# 1 000000 | 1 000 000100 0100 0000 0100 0011 0000 | OK -> OUT
# 0 000000 | 1 000 000010 0100 0000 0100 0100 0000 | OUT -> END

# 1 000000 | 1 000 100000 0101 0000 0100 0100 0000 | END -> IN
# 1 000000 | 1 000 001000 0101 0000 0101 0100 0000 | IN -> OK
# 1 000000 | 1 000 000100 0101 0000 0101 0100 0000 | OK -> OUT
# 0 000000 | 1 000 000010 0101 0000 0101 0101 0000 | OUT -> END

# 1 000000 | 1 000 100000 0110 0000 0101 0101 0000 | END -> IN
# 1 000000 | 1 000 001000 0110 0000 0110 0101 0000 | IN -> OK
# 1 000000 | 1 000 000100 0110 0000 0110 0101 0000 | OK -> OUT
# 0 000000 | 1 000 000010 0110 0000 0110 0110 0000 | OUT -> END

# 1 000000 | 1 000 100000 0111 0000 0110 0110 0000 | END -> IN
# 1 000000 | 1 000 001000 0111 0000 0111 0110 0000 | IN -> OK
# 1 000000 | 1 000 000100 0111 0000 0111 0110 0000 | OK -> OUT
# 0 000000 | 1 000 000010 0111 0000 0111 0111 0000 | OUT -> END

# 1 000000 | 1 000 100000 1000 0000 0111 0111 0000 | END -> IN
# 1 000000 | 1 000 001000 1000 0000 1000 0111 0000 | IN -> OK
# 1 000000 | 1 000 000100 1000 0000 1000 0111 0000 | OK -> OUT
# 0 000000 | 1 000 000010 1000 0000 1000 1000 0000 | OUT -> END

# 1 000000 | 1 000 100000 1001 0000 1000 1000 0000 | OFF -> IN
# 1 000000 | 1 000 001000 1001 0000 1001 1000 0000 | IN -> OK
# 1 000000 | 1 000 000100 1001 0000 1001 1000 0000 | OK -> OUT
# 0 000000 | 1 000 000010 1001 0000 1001 1001 0000 | OUT -> END

# 1 000000 | 1 000 100000 1010 0000 1001 1001 0000 | END -> IN
# 1 000000 | 1 000 001000 1010 0000 1010 1001 0000 | IN -> OK
# 1 000000 | 1 000 000100 1010 0000 1010 1001 0000 | OK -> OUT
# 0 000000 | 1 000 000010 1010 0000 1010 1010 0000 | OUT -> END

# 1 000000 | 1 000 100000 1011 0000 1010 1010 0000 | END -> IN
# 1 000000 | 1 000 001000 1011 0000 1011 1010 0000 | IN -> OK
# 1 000000 | 1 000 000100 1011 0000 1011 1010 0000 | OK -> OUT
# 0 000000 | 1 000 000010 1011 0000 1011 1011 0000 | OUT -> END

# 1 000000 | 1 000 100000 1100 0000 1011 1011 0000 | END -> IN
# 1 000000 | 1 000 001000 1100 0000 1100 1011 0000 | IN -> OK
# 1 000000 | 1 000 000100 1100 0000 1100 1011 0000 | OK -> OUT
# 0 000000 | 1 000 000010 1100 0000 1100 1100 0000 | OUT -> END

# 1 000000 | 1 000 100000 1101 0000 1100 1100 0000 | END -> IN
# 1 000000 | 1 000 001000 1101 0000 1101 1100 0000 | IN -> OK
# 1 000000 | 1 000 000100 1101 0000 1101 1100 0000 | OK -> OUT
# 0 000000 | 1 000 000010 1101 0000 1101 1101 0000 | OUT -> END

# 1 000000 | 1 000 100000 1110 0000 1101 1101 0000 | END -> IN
# 1 000000 | 1 000 001000 1110 0000 1110 1101 0000 | IN -> OK
# 1 000000 | 1 000 000100 1110 0000 1110 1101 0000 | OK -> OUT
# 0 000000 | 1 000 000010 1110 0000 1110 1110 0000 | OUT -> END

# 1 000000 | 1 000 100000 1111 0000 1110 1110 0000 | END -> IN
# 1 000000 | 1 000 001000 1111 0000 1111 1110 0000 | IN -> OK
# 1 000000 | 1 000 000100 1111 0000 1111 1110 0000 | OK -> OUT
# 0 000000 | 1 000 000010 1111 0000 1111 1111 0000 | OUT -> END

# 1 000000 | 1 000 100000 0000 0000 1111 1111 0000 | END -> IN
# 1 000000 | 1 000 001000 0000 0000 0000 1111 0000 | IN -> OK
# 1 000000 | 1 000 000100 0000 0000 0000 1111 0000 | OK -> OUT
# 0 000000 | 1 000 000010 0000 0000 0000 0000 0000 | OUT -> END

# 0 000000 | 0 110 000000 0000 0000 0000 0000 0000 | END -> OFF
# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | OFF -> IN
#!#

#?# Overflow Scarti (63+63+63+63)

# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | OFF -> IN
# 1 111111 | 1 000 001000 0001 0000 0001 0000 0000 | IN -> OK
# 1 000001 | 1 000 000100 0001 0000 0001 0000 0000 | OK -> OUT
# 1 000000 | 1 000 000001 0001 0000 0001 0000 0001 | OUT -> END

# 1 000000 | 1 000 100000 0010 0000 0001 0000 0001 | END -> IN
# 1 111111 | 1 000 001000 0010 0000 0010 0000 0001 | IN -> OK
# 1 000001 | 1 000 000100 0010 0000 0010 0000 0001 | OK -> OUT
# 1 000000 | 1 000 000001 0010 0000 0010 0000 0010 | OUT -> END

# 1 000000 | 1 000 100000 0011 0000 0010 0000 0010 | END -> IN
# 1 111111 | 1 000 001000 0011 0000 0011 0000 0010 | IN -> OK
# 1 000001 | 1 000 000100 0011 0000 0011 0000 0010 | OK -> OUT
# 1 000000 | 1 000 000001 0011 0000 0011 0000 0011 | OUT -> END

# 1 000000 | 1 000 100000 0100 0000 0011 0000 0011 | END -> IN
# 1 111111 | 1 000 001000 0100 0000 0100 0000 0011 | IN -> OK
# 1 000001 | 1 000 000100 0100 0000 0100 0000 0011 | OK -> OUT

# 1 000000 | 0 010 000000 0100 0000 0100 0000 0011 | OUT -> OFF
# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | OFF -> IN

#!#


#?# Test Setti
# 0 101010 | 0 000 000000 0000 0000 0000 0000 0000
# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000
# 1 110010 | 1 000 001000 0001 0000 0001 0000 0000
# 1 101101 | 1 000 000100 0001 0000 0001 0000 0000
# 0 000000 | 1 000 000010 0001 0000 0001 0001 0000
# 0 000000 | 1 000 100000 0010 0000 0001 0001 0000
# 1 110010 | 1 000 001000 0010 0000 0010 0001 0000
# 1 101101 | 1 000 000100 0010 0000 0010 0001 0000
# 0 000000 | 1 000 000010 0010 0000 0010 0010 0000
# 0 000000 | 1 000 100000 0011 0000 0010 0010 0000
# 1 110010 | 1 000 001000 0011 0000 0011 0010 0000
# 1 101101 | 1 000 000100 0011 0000 0011 0010 0000
# 0 000000 | 1 000 000010 0011 0000 0011 0011 0000
# 0 000000 | 1 000 100000 0100 0000 0011 0011 0000
# 1 110010 | 1 000 001000 0100 0000 0100 0011 0000
# 1 101101 | 1 000 000100 0100 0000 0100 0011 0000
# 0 000000 | 1 000 000010 0100 0000 0100 0100 0000
# 0 000000 | 1 000 100000 0101 0000 0100 0100 0000
# 1 110010 | 1 000 001000 0101 0000 0101 0100 0000
# 1 101101 | 1 000 000100 0101 0000 0101 0100 0000
# 0 000000 | 1 000 000010 0101 0000 0101 0101 0000
# 0 000000 | 1 000 100000 0110 0000 0101 0101 0000
# 1 110010 | 1 000 001000 0110 0000 0110 0101 0000
# 1 101101 | 1 000 000100 0110 0000 0110 0101 0000
# 0 000000 | 1 000 000010 0110 0000 0110 0110 0000
# 0 000000 | 1 000 100000 0111 0000 0110 0110 0000
# 1 110010 | 1 000 001000 0111 0000 0111 0110 0000
# 1 101101 | 1 000 000100 0111 0000 0111 0110 0000
# 0 000000 | 1 000 000010 0111 0000 0111 0111 0000
# 0 000000 | 1 000 100000 1000 0000 0111 0111 0000
# 1 110010 | 1 000 001000 1000 0000 1000 0111 0000
# 1 101101 | 1 000 000100 1000 0000 1000 0111 0000
# 0 000000 | 1 000 000010 1000 0000 1000 1000 0000
# 0 000000 | 1 000 100000 1001 0000 1000 1000 0000
# 1 110010 | 1 000 001000 1001 0000 1001 1000 0000
# 1 101101 | 1 000 000100 1001 0000 1001 1000 0000
# 0 000000 | 1 000 000010 1001 0000 1001 1001 0000
# 0 000000 | 1 000 100000 1010 0000 1001 1001 0000
# 1 110010 | 1 000 001000 1010 0000 1010 1001 0000
# 1 101101 | 1 000 000100 1010 0000 1010 1001 0000
# 0 000000 | 1 000 000010 1010 0000 1010 1010 0000
# 0 000000 | 1 000 100000 1011 0000 1010 1010 0000
# 1 110010 | 1 000 001000 1011 0000 1011 1010 0000
# 1 101101 | 1 000 000100 1011 0000 1011 1010 0000
# 0 000000 | 1 000 000010 1011 0000 1011 1011 0000
# 0 000000 | 1 000 100000 1100 0000 1011 1011 0000
# 1 110010 | 1 000 001000 1100 0000 1100 1011 0000
# 1 101101 | 1 000 000100 1100 0000 1100 1011 0000
# 0 000000 | 1 000 000010 1100 0000 1100 1100 0000
# 0 000000 | 1 000 100000 1101 0000 1100 1100 0000
# 1 110010 | 1 000 001000 1101 0000 1101 1100 0000
# 1 101101 | 1 000 000100 1101 0000 1101 1100 0000
# 0 000000 | 1 000 000010 1101 0000 1101 1101 0000
# 0 000000 | 1 000 100000 1110 0000 1101 1101 0000
# 1 110010 | 1 000 001000 1110 0000 1110 1101 0000
# 1 101101 | 1 000 000100 1110 0000 1110 1101 0000
# 0 000000 | 1 000 000010 1110 0000 1110 1110 0000
# 0 000000 | 1 000 100000 1111 0000 1110 1110 0000
# 1 110010 | 1 000 001000 1111 0000 1111 1110 0000
# 1 101101 | 1 000 000100 1111 0000 1111 1110 0000
# 0 000000 | 1 000 000010 1111 0000 1111 1111 0000
# 0 000000 | 1 000 100000 0001 0000 1111 1111 0000
# 1 110010 | 1 000 001000 0001 0000 0001 1111 0000
# 1 101101 | 1 000 000100 0001 0000 0001 1111 0000
# 0 000000 | 0 110 000010 0001 0000 0001 0000 0000
# 010 1010 | 0 000 000000 0000 0000 0000 0000 0000
# 010 1010 | 0 000 000000 0000 0000 0000 0000 0000
# 010 1010 | 0 000 000000 0000 0000 0000 0000 0000
# 010 1010 | 0 000 000000 0000 0000 0000 0000 0000
# 010 1010 | 0 000 000000 0000 0000 0000 0000 0000
#!#



